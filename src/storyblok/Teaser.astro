---
import { storyblokEditable } from '@storyblok/astro';
import type { TeaserStoryblok } from '../types/storyblok';

export interface Props {
  blok: TeaserStoryblok;
}

const { blok } = Astro.props;
---

<div {...storyblokEditable(blok)} class="group cursor-pointer">
  <a href={`/${blok.link.cached_url}`} class="block" title={blok.headline}>
    {blok.image && blok.image.filename && (
      <div class="mb-4 overflow-hidden rounded-lg">
        <img
          src={`${blok.image.filename}/m/400x250/smart`}
          alt={blok.image.alt || blok.headline}
          class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"
          loading="lazy"
        />
      </div>
    )}
    
    <div class="space-y-2">
      <h3 class="text-xl font-semibold text-primary group-hover:text-accent transition-colors duration-200">
        {blok.headline}
      </h3>
      
      {blok.subheadline && (
        <p class="text-primary/70 leading-relaxed">
          {blok.subheadline}
        </p>
      )}
      
      <div class="flex items-center text-accent text-sm font-medium pt-2">
        Read more
        <svg width="16" height="16" fill="currentColor" class="ml-1 transition-transform duration-200 group-hover:translate-x-1" viewBox="0 0 24 24">
          <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
        </svg>
      </div>
    </div>
  </a>
</div>